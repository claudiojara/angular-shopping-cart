<div class="product-grid">
  @for (product of products(); track product.id) {
    <mat-card class="product-card">
      <img mat-card-image [src]="product.image" [alt]="product.name" />
      
      <mat-card-header>
        <mat-card-title>{{ product.name }}</mat-card-title>
        <mat-card-subtitle>
          <mat-chip class="category-chip">{{ product.category }}</mat-chip>
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p class="product-description">{{ product.description }}</p>
        <p class="product-price">{{ product.price | currency }}</p>
      </mat-card-content>

      <mat-card-actions>
        <button 
          mat-raised-button 
          color="primary" 
          (click)="addToCart(product)"
          [attr.data-testid]="'add-to-cart-' + product.id"
          aria-label="Agregar {{ product.name }} al carrito"
          class="add-to-cart-btn">
          <mat-icon>add_shopping_cart</mat-icon>
          Agregar al Carrito
        </button>
      </mat-card-actions>
    </mat-card>
  }
</div>
